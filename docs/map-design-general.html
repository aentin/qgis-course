<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS</title>
  <meta name="description" content="Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS" />
  <meta name="github-repo" content="aentin/qgis-course" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS" />
  
  <meta name="twitter:description" content="Упражнение 1 Создание общегеографической карты | Основы геоинформатики: практикум в QGIS" />
  

<meta name="author" content="Андрей Энтин, Тимофей Самсонов" />


<meta name="date" content="2021-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="index.html"/>
<link rel="next" href="map-design-world.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Основы геоинформатики</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Общие сведения</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#учебные-материалы"><i class="fa fa-check"></i>Учебные материалы</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#программное-обеспечение-для-работы"><i class="fa fa-check"></i>Программное обеспечение для работы</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#windows"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#macos"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#linux"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Основы работы с QGIS</b></span></li>
<li class="chapter" data-level="1" data-path="map-design-general.html"><a href="map-design-general.html"><i class="fa fa-check"></i><b>1</b> Создание общегеографической карты</a>
<ul>
<li class="chapter" data-level="1.1" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-intro"><i class="fa fa-check"></i><b>1.1</b> Введение</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-checklist"><i class="fa fa-check"></i><b>1.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-begin"><i class="fa fa-check"></i><b>1.2</b> Начало работы</a></li>
<li class="chapter" data-level="1.3" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-projection"><i class="fa fa-check"></i><b>1.3</b> Настройка системы координат</a></li>
<li class="chapter" data-level="1.4" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-navigation"><i class="fa fa-check"></i><b>1.4</b> Навигация по карте</a></li>
<li class="chapter" data-level="1.5" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-relief"><i class="fa fa-check"></i><b>1.5</b> Оформление рельефа</a></li>
<li class="chapter" data-level="1.6" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-vector"><i class="fa fa-check"></i><b>1.6</b> Добавление векторных наборов данных</a></li>
<li class="chapter" data-level="1.7" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-attributes"><i class="fa fa-check"></i><b>1.7</b> Использование атрибутов объектов при визуализации</a></li>
<li class="chapter" data-level="1.8" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-labels"><i class="fa fa-check"></i><b>1.8</b> Подписи</a></li>
<li class="chapter" data-level="1.9" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-layout"><i class="fa fa-check"></i><b>1.9</b> Настройка компоновки карты</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="map-design-world.html"><a href="map-design-world.html"><i class="fa fa-check"></i><b>2</b> Создание политической карты мира</a>
<ul>
<li class="chapter" data-level="2.1" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-intro"><i class="fa fa-check"></i><b>2.1</b> Введение</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-checklist"><i class="fa fa-check"></i><b>2.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-begin"><i class="fa fa-check"></i><b>2.2</b> Начало работы</a></li>
<li class="chapter" data-level="2.3" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-input-data"><i class="fa fa-check"></i><b>2.3</b> Загрузка исходных данных</a></li>
<li class="chapter" data-level="2.4" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-qgis-project"><i class="fa fa-check"></i><b>2.4</b> Создание ГИС-проекта и загрузка данных в проект</a></li>
<li class="chapter" data-level="2.5" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-crs"><i class="fa fa-check"></i><b>2.5</b> Настройка системы координат проекта</a></li>
<li class="chapter" data-level="2.6" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-colorbrewer"><i class="fa fa-check"></i><b>2.6</b> Окраска стран в разные цвета</a></li>
<li class="chapter" data-level="2.7" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-other-layers"><i class="fa fa-check"></i><b>2.7</b> Добавление других слоёв на карту</a></li>
<li class="chapter" data-level="2.8" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-layout"><i class="fa fa-check"></i><b>2.8</b> Создание компоновки карты</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html"><i class="fa fa-check"></i><b>3</b> Создание карты четвертичных отложений</a>
<ul>
<li class="chapter" data-level="3.1" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-intro"><i class="fa fa-check"></i><b>3.1</b> Введение</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-checklist"><i class="fa fa-check"></i><b>3.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-begin"><i class="fa fa-check"></i><b>3.2</b> Начало работы</a></li>
<li class="chapter" data-level="3.3" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-data"><i class="fa fa-check"></i><b>3.3</b> Добавление данных в проект</a></li>
<li class="chapter" data-level="3.4" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-classification"><i class="fa fa-check"></i><b>3.4</b> Применение готового стиля к слою</a></li>
<li class="chapter" data-level="3.5" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-csv"><i class="fa fa-check"></i><b>3.5</b> Создание набора пространственных данных из таблицы с координатами</a></li>
<li class="chapter" data-level="3.6" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-final"><i class="fa fa-check"></i><b>3.6</b> Оформление карты</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="map-design-population.html"><a href="map-design-population.html"><i class="fa fa-check"></i><b>4</b> Создание социально-экономической карты</a>
<ul>
<li class="chapter" data-level="4.1" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-intro"><i class="fa fa-check"></i><b>4.1</b> Введение</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-checklist"><i class="fa fa-check"></i><b>4.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-begin"><i class="fa fa-check"></i><b>4.2</b> Начало работы</a></li>
<li class="chapter" data-level="4.3" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-change-crs"><i class="fa fa-check"></i><b>4.3</b> Изменение системы координат проекта</a></li>
<li class="chapter" data-level="4.4" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-fill-color"><i class="fa fa-check"></i><b>4.4</b> Создание картограмм</a></li>
<li class="chapter" data-level="4.5" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-symbols"><i class="fa fa-check"></i><b>4.5</b> Создание шкалы значков</a></li>
<li class="chapter" data-level="4.6" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-labels"><i class="fa fa-check"></i><b>4.6</b> Добавление подписей значков</a></li>
<li class="chapter" data-level="4.7" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-basemap"><i class="fa fa-check"></i><b>4.7</b> Настройка условных знаков географической основы</a></li>
<li class="chapter" data-level="4.8" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-layout"><i class="fa fa-check"></i><b>4.8</b> Создание макета карты</a></li>
</ul></li>
<li class="part"><span><b>II Редактирование данных в ГИС</b></span></li>
<li class="chapter" data-level="5" data-path="map-ref-districts.html"><a href="map-ref-districts.html"><i class="fa fa-check"></i><b>5</b> Привязка и цифрование административной карты</a>
<ul>
<li class="chapter" data-level="5.1" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-intro"><i class="fa fa-check"></i><b>5.1</b> Введение</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-economic-control"><i class="fa fa-check"></i><b>5.1.1</b> Контрольный лист</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-basemap"><i class="fa fa-check"></i><b>5.2</b> Добавление базовых данных</a></li>
<li class="chapter" data-level="5.3" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-referencing"><i class="fa fa-check"></i><b>5.3</b> Привязка карты</a></li>
<li class="chapter" data-level="5.4" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-creation"><i class="fa fa-check"></i><b>5.4</b> Создание слоя избирательных округов</a></li>
<li class="chapter" data-level="5.5" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-stats"><i class="fa fa-check"></i><b>5.5</b> Расчет статистики по округам</a></li>
<li class="chapter" data-level="5.6" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-diagrams"><i class="fa fa-check"></i><b>5.6</b> Построение картодиаграмм</a></li>
<li class="chapter" data-level="5.7" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-wms"><i class="fa fa-check"></i><b>5.7</b> Использование базовых слоёв из сети Интернет</a></li>
<li class="chapter" data-level="5.8" data-path="map-ref-districts.html"><a href="map-ref-districts.html#map-ref-districts-result"><i class="fa fa-check"></i><b>5.8</b> Оформление итоговой схемы</a></li>
</ul></li>
<li class="part"><span><b>III Векторный анализ</b></span></li>
<li class="chapter" data-level="6" data-path="overlay.html"><a href="overlay.html"><i class="fa fa-check"></i><b>6</b> Анализ пространственных взаимосвязей</a>
<ul>
<li class="chapter" data-level="6.1" data-path="overlay.html"><a href="overlay.html#overlay-intro"><i class="fa fa-check"></i><b>6.1</b> Введение</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="overlay.html"><a href="overlay.html#overlay-control"><i class="fa fa-check"></i><b>6.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="6.1.2" data-path="overlay.html"><a href="overlay.html#overlay-annotation"><i class="fa fa-check"></i><b>6.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="overlay.html"><a href="overlay.html#overlay-vectors"><i class="fa fa-check"></i><b>6.2</b> Визуальный анализ векторных слоев</a></li>
<li class="chapter" data-level="6.3" data-path="overlay.html"><a href="overlay.html#overlay-intersect"><i class="fa fa-check"></i><b>6.3</b> Оверлей слоев методом пересечения</a></li>
<li class="chapter" data-level="6.4" data-path="overlay.html"><a href="overlay.html#overlay-merge"><i class="fa fa-check"></i><b>6.4</b> Слияние результатов пересечения с целью получения показателя пространственной связи</a></li>
<li class="chapter" data-level="6.5" data-path="overlay.html"><a href="overlay.html#overlay-sumarea-subtypes"><i class="fa fa-check"></i><b>6.5</b> Объединение подтипов почв для подсчёта суммарной площади</a></li>
<li class="chapter" data-level="6.6" data-path="overlay.html"><a href="overlay.html#overlay-fieldcalc"><i class="fa fa-check"></i><b>6.6</b> Расчёт площадей объектов</a></li>
<li class="chapter" data-level="6.7" data-path="overlay.html"><a href="overlay.html#overlay-join"><i class="fa fa-check"></i><b>6.7</b> Соединение таблиц по названию подтипа почв</a></li>
<li class="chapter" data-level="6.8" data-path="overlay.html"><a href="overlay.html#overlay-resulting"><i class="fa fa-check"></i><b>6.8</b> Вычисление результирующих значений показателя связи</a></li>
</ul></li>
<li class="part"><span><b>IV Растровый анализ</b></span></li>
<li class="chapter" data-level="7" data-path="weighted-overlay.html"><a href="weighted-overlay.html"><i class="fa fa-check"></i><b>7</b> Оптимизация местоположения</a>
<ul>
<li class="chapter" data-level="7.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-intro"><i class="fa fa-check"></i><b>7.1</b> Введение</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-control"><i class="fa fa-check"></i><b>7.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="7.1.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-annotation"><i class="fa fa-check"></i><b>7.1.2</b> Аннотация</a></li>
<li class="chapter" data-level="7.1.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-warning"><i class="fa fa-check"></i><b>7.1.3</b> Прежде чем начать…</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-init"><i class="fa fa-check"></i><b>7.2</b> Добавление исходных данных</a></li>
<li class="chapter" data-level="7.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-slopes"><i class="fa fa-check"></i><b>7.3</b> Расчет углов наклона</a></li>
<li class="chapter" data-level="7.4" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-distances"><i class="fa fa-check"></i><b>7.4</b> Расчет расстояний</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-roads"><i class="fa fa-check"></i><b>7.4.1</b> Расстояния до дорог</a></li>
<li class="chapter" data-level="7.4.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-streams"><i class="fa fa-check"></i><b>7.4.2</b> Водотоки</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass"><i class="fa fa-check"></i><b>7.5</b> Переклассификация наборов данных</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass-distance"><i class="fa fa-check"></i><b>7.5.1</b> Переклассификация растров расстояний</a></li>
<li class="chapter" data-level="7.5.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass-slope"><i class="fa fa-check"></i><b>7.5.2</b> Переклассификация растра крутизны</a></li>
<li class="chapter" data-level="7.5.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#преобразование-слоя-типов-землепользования-в-растровое-представление"><i class="fa fa-check"></i><b>7.5.3</b> Преобразование слоя типов землепользования в растровое представление</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-combination"><i class="fa fa-check"></i><b>7.6</b> Нахождение мест с наилучшей комбинацией факторов с помощью взвешенного оверлея</a></li>
<li class="chapter" data-level="7.7" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-final-decision"><i class="fa fa-check"></i><b>7.7</b> Окончательный выбор участка</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hydrodem.html"><a href="hydrodem.html"><i class="fa fa-check"></i><b>8</b> Гидрологическое моделирование на основе ЦМР</a>
<ul>
<li class="chapter" data-level="8.1" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-intro"><i class="fa fa-check"></i><b>8.1</b> Введение</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-control"><i class="fa fa-check"></i><b>8.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="8.1.2" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-annotation"><i class="fa fa-check"></i><b>8.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-init"><i class="fa fa-check"></i><b>8.2</b> Получение и подготовка исходных данных</a></li>
<li class="chapter" data-level="8.3" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-preprocessing"><i class="fa fa-check"></i><b>8.3</b> Гидрологическая коррекция ЦМР</a></li>
<li class="chapter" data-level="8.4" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-flowacc"><i class="fa fa-check"></i><b>8.4</b> Расчёт водосборной площади</a></li>
<li class="chapter" data-level="8.5" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-basin"><i class="fa fa-check"></i><b>8.5</b> Определение границ бассейна р. Оскол</a></li>
</ul></li>
<li class="appendix"><span><b>Справочные сведения</b></span></li>
<li class="chapter" data-level="A" data-path="manual-catalog.html"><a href="manual-catalog.html"><i class="fa fa-check"></i><b>A</b> Форматы пространственных данных</a>
<ul>
<li class="chapter" data-level="A.1" data-path="manual-catalog.html"><a href="manual-catalog.html#manual-dataformats-shapefile"><i class="fa fa-check"></i><b>A.1</b> Шейп-файлы</a></li>
<li class="chapter" data-level="A.2" data-path="manual-catalog.html"><a href="manual-catalog.html#geopackage"><i class="fa fa-check"></i><b>A.2</b> GeoPackage</a></li>
<li class="chapter" data-level="A.3" data-path="manual-catalog.html"><a href="manual-catalog.html#базы-геоданных-esri"><i class="fa fa-check"></i><b>A.3</b> Базы геоданных ESRI</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="mastertest.html"><a href="mastertest.html"><i class="fa fa-check"></i><b>B</b> Инструкция по регистрации в системе Мастер-тест</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Основы геоинформатики: практикум в QGIS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="map-design-general" class="section level1" number="1">
<h1><span class="header-section-number">Упражнение 1</span> Создание общегеографической карты</h1>
<p><a href="https://1drv.ms/u/s!AmtmZDq3JgxHgZUGIl2IXikh_JmrhA?e=NdRmIe">Архив с данными и файлом отчёта</a></p>
<div id="map-design-general-intro" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Введение</h2>
<p><strong>Цель задания</strong> — знакомство с моделями пространственных объектов и базой пространственных данных. Визуализация данных на карте. Оформление легенды и компоновки карты.</p>
<p><strong>Необходимая теоретическая подготовка:</strong> модели пространственных данных, модели пространственных объектов, базы пространственных объектов, картографические проекции.</p>
<p><strong>Необходимая практическая подготовка:</strong> практическая подготовка не требуется.</p>
<p><strong>Исходные данные:</strong> база географических данных на территорию Кавказских гор, собранная из нескольких источников.</p>
<p><strong>Ожидаемый результат:</strong> общегеографическая карта гор Кавказа и прилегающих территорий масштаба 1:4 500 000.</p>
<div id="map-design-general-checklist" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Контольный лист</h3>
<ul>
<li>Добавить на карту источники пространственных данных и настроить их оформление</li>
<li>Настроить подписи объектов</li>
<li>Создать компоновку карты и легенду</li>
<li>Экспортировать результат в графический файл</li>
</ul>
<!-- ### Аннотация {#map-design-general-annotation}

Задание посвящено знакомству с созданием тематических карт на основе баз пространственных данных. Вы познакомитесь с представлением площадных, линейных, точечных объектов в базе пространственных данных. Научитесь создавать карты на их основе, оформлять легенду, сетку координат и зарамочные элементы карты. -->
</div>
</div>
<div id="map-design-general-begin" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Начало работы</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Скачайте архив с исходными данными для упражнения и распакуйте его в свою рабочую директорию.</p></li>
<li><p>Запустите <strong>QGIS</strong>. Для запуска воспользуйтесь иконкой с названием <strong><code>QGIS Desktop [...] with GRASS [...]</code></strong>.</p></li>
<li><p>Найдите <strong>панель менеджера источников данных</strong> <img src="images/Ex01/pic01.png" /> и откройте <strong>Менеджер источников данных</strong>.</p></li>
<li><p>В менеджере источников данных в режиме браузера найдите вашу рабочую директорию, а в ней — каталог <code>Ex01_GeneralMap\raster_data</code>. В этом каталоге отображается единственный источник данных — <code>30n030e_20101117_gmted_mea075.tif</code>. Иконка <img src="images/Ex01/raster.png" /> и расширение <code>\*.tif</code> (Tagged Image Tile Format) подсказывают вам, что этот источник представляет пространственные данные в растровой (регулярно-сеточной) модели.</p>
<blockquote>
<p>Замечание 1: растр, с которым вы будете работать сейчас, сохранён в формате <a href="https://www.opengeospatial.org/standards/geotiff">GeoTIFF</a>. От «обычного» TIFF этот формат отличается тем, что сведения о пространственной привязке в GeoTIFF записываются непосредственно в файл с данными, в то время как «обычный» формат TIFF не поддерживает запись сведений о пространственной привязке, поэтому она хранится отдельно — в <a href="https://en.wikipedia.org/wiki/World_file">world-файле</a>. В дальнейшем вы часто будете работать и с тем, и с другим способом хранения пространственных данных.</p>
</blockquote>
<blockquote>
<p>Замечание 2: файл <code>30n030e_20101117_gmted_mea075.tif</code> является фрагментом («тайлом») глобальной цифровой модели рельефа (ЦМР) <a href="https://www.usgs.gov/land-resources/eros/coastal-changes-and-impacts/gmted2010">GMTED2010</a>. Этот источник часто используется для геоинформационного анализа и картографирования. Загрузить тайлы GMTED2010 можно через сервис <a href="https://earthexplorer.usgs.gov/">EarthExplorer</a> геологической службы США.</p>
</blockquote></li>
<li><p>Дважды щёлкните левой кнопкой мыши на название файла <code>30n030e_20101117_gmted_mea075.tif</code> в менеджере источников данных. В панель слоёв (по умолчанию слева) добавится слой с названием <code>30n030e_20101117_gmted_mea075</code>.</p></li>
<li><p>Сохраните проект QGIS в папку с материалами упражнения (на том же иерархическом уровне, где находятся . Назовите его по шаблону <code>&lt;Ex01_%Фамилия%&gt;</code>, где <code>%Фамилия%</code> — ваша фамилия латинскими буквами.</p></li>
</ol>
<p><kbd><strong>Снимок экрана №1.</strong> Окно QGIS после загрузки набора данных</kbd></p>
<blockquote>
<p>Примечание: файл проекта QGIS (*.qgs, *.qgz) и документ карты ArcGIS (*.mxd) отличаются от тех файлов, с которыми вы работали ранее. В этих файлах не хранятся пространственные данные, а только ссылки на них и настройки их отображения (включая порядок слоёв, символику и подписи). Если вы перемещаете файл проекта относительно источников данных, ссылки «теряются». Поэтому важно правильно организовать структуру ГИС-проекта. В рамках нашего упражнения мы разместили файл проекта в директории более высокого уровня по отношению к тем директориям, где лежат данные. Теперь, если мы переместим всю папку Ex01 вместе со всем её содержимым, относительные пути от файла проекта до файлов данных не изменятся, и проект сохранит работоспособность. Разумеется, такое простое решение не будет оптимальным для крупных организаций с разветвлённой структурой сетевых ресурсов, но для студенческих проектов оно, как правило, работает</p>
</blockquote>
</div>
<div id="map-design-general-projection" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Настройка системы координат</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>В правом нижнем углу карты вы видите надпись <img src="images/Ex01/pic02.png" alt="EPSG:4326" />. Нажмите на эту надпись, чтобы открыть интерфейс выбора системы координат проекта.</p>
<p>В открывшемся окне вы видите более подробную информацию об используемой системе координат. Код <code>EPSG:4326</code> соответствует системе географических координат <strong>WGS 84</strong>. Термин «географическая система координат» (<em>geographic coordinate systems</em>) в ГИС означает, что координаты объектов и линейные параметры растров хранятся в виде широты и долготы. Альтернативный подход — проецированные системы координат (<em>projected coordinate systems</em>), где плановые координаты измеряются в метрических единицах.</p>
<p>Система координат проекта была импортирована из первого (в нашем случае — пока единственного) загруженного источника пространственных данных. Система координат WGS 84, как правило, не используется для картографирования, поэтому мы изменим систему координат проекта.</p>
<p>Для выбора проекции воспользуемся удобным инструментом, который позволяет оптимизировать этот процесс — <a href="http://projectionwizard.org/">Projection Wizard</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Перейдите на сайт <a href="http://projectionwizard.org/">Projection Wizard</a>. Настройте параметры территории и проекции следующим образом:</p>
<ul>
<li>класс проекции по виду искажений: <strong>равнопромежуточная</strong> (<em>Equidistant</em>);</li>
<li>охват территории картографирования: от 39° с.ш. до 46° с.ш., от 36° в.д. до 51° в.д.</li>
</ul>
<p>Если все сделано верно, то окно приложения должно принять приблизительно следующий вид:
<img src="images/Ex01/pwizard.png" alt="Projection Wizard" /></p>
<p>Вам будет предложено две проекции. <strong>Нажмите на ссылку PROJ.4</strong>, соответствующей <strong>косой азимутальной</strong> проекции. В верхней части экрана будет отображено всплывающее окно с параметрами выбранной проекции в формате <a href="https://proj.org/usage/quickstart.html">PROJ</a>.</p>
<blockquote>
<p>Формат <strong>PROJ</strong> — один из трёх стандартных форматов описания систем координат, был предложен разработчиками библиотеки <a href="https://proj.org/">PROJ</a>, используемой для преобразования систем координат пространственных данных (отсюда и название формата). Часто этот формат называют также PROJ.4, поскольку он был введен в 4-й версии библиотеки PROJ. Другой формат — коды <a href="http://www.epsg-registry.org/"><strong>EPSG</strong></a> (удобный ресурс для поиска — <a href="https://epsg.io/">epsg.io</a>), введённые в оборот для быстрого доступа к наиболее распространенным системам координат. Третий вариант — формат <strong>Well-Known Text (WKT)</strong>, который предоставляет наиболее полные возможности для описания параметров системы координат. Формат WKT является <a href="https://www.iso.org/standard/76496.html">международным стандартом</a>. Ознакомиться с его определением можно на <a href="http://docs.opengeospatial.org/is/18-010r7/18-010r7.html">сайте</a> Open Geospatial Consortium.</p>
</blockquote></li>
<li><p>Скопируйте строку PROJ в буфер обмена</p>
<p>Также <strong>вставьте скопированную строку в отчётный документ</strong></p></li>
<li><p>В QGIS откройте меню <strong>Установки</strong> — <strong>Пользовательские проекции…</strong></p></li>
<li><p>Нажмите кнопку <strong>Добавить новую проекцию</strong></p></li>
<li><p>В полях для ввода ниже введите название проекции: <em>Azimuthal Equidistant (Caucasus)</em>, в поле <em>Формат</em> выберите тип <em>Proj String</em>, в поле <em>Параметры</em> вставьте скопированную строку PROJ.</p></li>
<li><p>Нажмите <strong>ОК</strong>.</p>
<p>Вы успешно добавили новую систему координат в пользовательский список. Теперь нужно применить её к проекту.</p></li>
<li><p>Откройте интерфейс выбора системы координат. Это можно сделать не только нажатием на элемент в правом нижнем углу, но и через меню <strong>Проекты</strong> — <strong>Свойства…</strong> (вкладка <strong>Система координат</strong>).</p></li>
<li><p>В открывшемся меню найдите в списке свою проекцию (для этого можно использовать поле “Фильтр” вверху окна), выберите её и нажмите <strong>ОК</strong>.</p></li>
</ol>
<p>Если все сделано верно, изображение ЦМР должно приобрести форму сфероидической трапеции.</p>
<p><kbd><strong>Снимок экрана №2.</strong> Окно QGIS после изменения проекции</kbd></p>
<p>Закройте интерфейс выбора системы координат и нажмите правой кнопкой на слой <code>30n030e_20101117_gmted_mea075</code> в таблице слоёв. В контекстном меню выберите <strong>Свойства…</strong> и в открывшемся окне перейдите на вкладку <strong>Информация</strong>. Вы видите, что проекция набора данных не изменилась. QGIS, как и большинство ГИС-пакетов, умеет трансформировать наборы данных для отображения их в целевой проекции. На жаргоне ГИС-специалистов это называется <em>«перепроецирование на лету» (reprojection on the fly)</em>.</p>
</div>
<div id="map-design-general-navigation" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Навигация по карте</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>Чтобы иметь возможность рассмотреть территорию картографирования более детально, потребуется увеличить масштаб и переместить изображение. Изучите функциональные возможности инструментов навигациии, которые расположены на панели инструментов <strong>Map Navigation</strong> (если панель отсутствует, щелкните на пустом поле среди панелей инструментов, и активируйте соответствующий пункт в меню):</p>
<div class="figure">
<img src="images/Ex01/NavigationPanel.png" alt="" />
<p class="caption">Инструменты перемещения по карте</p>
</div>
<p>Некоторые инструменты навигации могут быть задействованы независимо. Например, масштабирование выполняется прокруткой колеса мыши, а перемещение по карте — движением мыши с зажатой средней кнопкой.</p>
<blockquote>
<p>Режим <em>панорамирования</em> (перемещения карты) также активируется нажитием пробела. Зажмите пробел и просто двигайте курсор мышкой или тачпадом. Нажимать кнопку мыши или тачпад при этом не надо!</p>
</blockquote>
<p>После того как инструменты навигации станут понятны, установите масштаб карты равным <span class="math inline">\(1:5~000~000\)</span>. Это можно сделать в элементе <em>Масштаб</em> в нижней панели QGIS. При этом достаточно ввести только знаменатель масштаба, выделив его двойным кликом и заменив на нужное значение без пробела (<code>5000000</code>).</p>
<p>После этого переместите изображение таким образом, чтобы Кавказские горы занимали картографическое изображение целиком по ширине.</p>
</div>
<div id="map-design-general-relief" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Оформление рельефа</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>Изображение рельефа, которые вы видите, представляет собой так называемую аналитическую отмывку по высоте. Для аналитической отмывки используется шкала оттенков серого, применяемая по умолчанию. Мы будем использовать аналитическую отмывку по высоте вместе со светотеневой отмывкой.</p>
<ol style="list-style-type: decimal">
<li><p>Откройте свойства слоя <code>30n030e_20101117_gmted_mea075</code> и перейдите на вкладку <strong>Стиль</strong>.</p></li>
<li><p>Измените тип представления с <em>Одноканальное серое</em> на <em>Одноканальное псевдоцветное</em>.</p></li>
<li><p>Установите минимальное значение равным <em>0</em>, а максимальное значение — <em>4000</em>.</p></li>
<li><p>В строке выбора градиента нажмите правой кнопкой на шкалу и в открывшемся контекстном меню выберите опцию <strong>Создать новый градиент</strong></p></li>
<li><p>В появившемся всплывающем окне в ниспадающем списке выберите тип градиента <em>Catalog: cpt-city</em> (<a href="http://soliton.vm.bytemark.co.uk/pub/cpt-city/">подробнее о cpt-city</a>)</p></li>
<li><p>В открывшемся каталоге в разделе <em>Topography</em> выберите градиент <em>c3t3</em> и нажмите <strong>OK</strong></p></li>
<li><p>После нажатия OK были закрыты все окна, кроме окна свойств слоя <code>30n030e_20101117_gmted_mea075</code>. Нажмите <strong>OK</strong>, чтобы применить изменения символики и закрыть окно.</p>
<p>Вы успешно применили аналитическую отмывку по высоте к цифровой модели рельефа. Но для красочного, визуально привлекательного изображения этого недостаточно. Помимо аналитической отмывки по высоте, мы создадим светотеневую отмывку.</p></li>
<li><p>Щёлкните правой кнопкой мыши по слою <code>30n030e_20101117_gmted_mea075</code> в таблице слоёв и в контекстном меню нажмите <strong>Дублировать слой</strong>.</p>
<p>Дубликат слоя будет помещён в таблице слоёв ниже исходного слоя, выключен, а к его имени будет приписано “копия”.</p>
<blockquote>
<p><strong>Обратите внимание, что оба слоя используют один и тот же источник данных.</strong> Вы можете сделать сколько угодно слоёв с разными настройками визуализации на базе одного и того же набора пространственных данных. Но если вы измените используемый набор пространственных данных, это повлечёт за собой автоматическое изменение вида слоёв (но не настроек их визуализации).</p>
</blockquote></li>
<li><p>Используя контекстное меню или окно свойств слоя, переименуйте оба слоя. Нижний слой назовите <em>Аналитическая отмывка по высоте</em>, верхний — <em>Светотеневая отмывка</em>.</p>
<p><em>Названия слоёв никак не затрагивают источник пространственных данных. До тех пор, пока вам не приходится работать со слоями с помощью скриптов на языке Python, вы можете никак не ограничивать себя в названиях.</em></p></li>
<li><p>Включите отображение нижнего слоя.</p></li>
<li><p>Откройте свойства слоя «Светотеневая отмывка», перейдите на вкладку «Стиль».</p></li>
<li><p>Измените способ визуализации на <em>Теневой рельеф</em> и нажмите <strong>Применить</strong>. При этом изменения будут применены, но окно свойств не закроется.</p>
<p>На заднем плане вы видите изменения, произошедшие с вашим слоем. Во-первых, изображение светотеневой отмывки полностью закрыло изображение аналитической отмывки по высоте. Эту проблему можно решить, включив настройки прозрачности для слоя. Во-вторых, сама светотеневая отмывка выглядит очень тёмной. Это связано с несовпадением единиц измерения «по горизонтали» и «по вертикали» в исходном наборе данных: ячейки растра образут градусную сетку, а высотные отметки хранятся в метрах. Проблему можно решить двумя путями: трансформировать слой в проецированную систему координат или применить коэффициент масштабирования по вертикали (<em>Z-factor</em>). Мы пойдём вторым путём и будем изменять значение коэффициента масштабирования.</p>
<blockquote>
<p>Коэффициент масштабирования представляет собой переводной коэффициент из «вертикальных» единиц измерения в «горизонтальные». Для растров на градусной сетке, коэффициент, строго говоря, будет различным по широте и долготе в силу сближения меридианов.</p>
</blockquote>
<p><strong>Рассчитайте коэффициент масштабирования по отношению к 1° долготы и 1° широты (на широте параллели касания проекции)</strong>. После этого сверьтесь с результатом ниже:</p></li>
</ol>
<p><button id="show_table_button" type="button" class="btn btn-default action-button" onclick="button_handler()">Показать Z-factor</button><div id="resultContainer" hidden="true">0.000012</div></p>
<script type="text/javascript">
function button_handler() {
  document.getElementById('resultContainer').hidden = false;
}
</script>
<ol start="13" style="list-style-type: decimal">
<li><p>Помимо переводного коэффициента между единицами измерения, нам нужно дополнительно масштабировать высоты по вертикали, чтобы отмывка выглядела более «рельефно». В разных случаях применяется дополнительный множитель в диапазоне от 1,5 до 10, мы воспользуемся коэффициентом <em>5</em>.</p></li>
<li><p>Перемножьте оба коэффициента и введите полученное значение в качестве Z-фактора слоя.</p></li>
<li><p>Перейдите на вкладку <strong>Прозрачность</strong> и установите коэффициент непрозрачности для слоя равным 50 %. Примените изменения, закройте окно свойств слоя и сохраните проект.</p></li>
</ol>
<p><kbd><strong>Снимок экрана №3.</strong> Изображение рельефа с высотной и светотеневой отмывкой</kbd></p>
<blockquote>
<p>Настройки визуализации рельефа, которые применялись в этом упражнении, подобраны приблизительно, без предварительного анализа распределения высот картографируемой территории и выбора оптимальной шкалы. Эти вопросы подробно освещаются в курсах «Оформление карт» и «Общегеографическое картографирование», читаемых на кафедре картографии и геоинформатики</p>
</blockquote>
</div>
<div id="map-design-general-vector" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> Добавление векторных наборов данных</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>Откройте стыкуемое окно браузера и перейдите в директорию <em>Размещение по умолчанию для проекта</em>. Раскройте папку <em>vector_data</em>.</p>
<blockquote>
<p>Размещение по умолчанию для проекта — это директория, в которую был сохранён проект QGIS (*.qgz).</p>
</blockquote>
<div class="figure">
<img src="images/Ex01/DefaultLocation.png" alt="" />
<p class="caption">Default location</p>
</div>
<p>Вы видите несколько источников данных, обозначенных символом <img src="images/Ex01/polygon.png" alt="Polygon" />. Это векторные наборы данных, представленные в формате <a href="https://desktop.arcgis.com/ru/arcmap/latest/manage-data/shapefiles/what-is-a-shapefile.htm">шейп-файлов</a>.</p>
<p>Теперь откройте эту же директорию через Проводник Windows (или любой другой файловый менеджер). Сравните количество файлов в Проводнике с количеством доступных источников данных в браузере QGIS</p>
<blockquote>
<p>Шейп-файлы были базовым форматом ГИС-пакета ArcView и за счёт этого получили очень широкое распространение. Шейп-файлы не такие функциональные, как базы геоданных ESRI (современный базовый формат для продуктов линейки ArcGIS) или GeoPackage, но тем не менее их продолжают активно использовать. Многие особенности шейп-файлов обусловлены спецификой и возможностями компьютеров начала 90-х гг. В частности, геометрия набора данных хранится отдельно (в файле <code>.shp</code>), семантика — отдельно (в формате dBASE, <code>.dbf</code>), а для связи между ними используется индекс-файл (<code>.shx</code>). Эти три файла — обязательные компоненты шейп-файла. Помимо них, отдельно могут быть записаны сведения о проекции (<code>.prj</code>), кодировке (<code>.cpg</code>) и многое другое. Основным файлом, тем не менее, считается <code>.shp</code>, а все остальные на компьютерном сленге называются <a href="https://en.wikipedia.org/wiki/Sidecar_file"><em>sidecar</em>-файлами</a>.</p>
</blockquote>
<blockquote>
<p><strong>Важно:</strong> при копировании шейп-файлов через Проводник необходимо копировать <kbd>все</kbd> файлы с одинаковым именем</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>Добавьте на карту наборы данных об объектах гидрографии (<code>hydrography-polyline.shp</code>, <code>hydrography-polygon.shp</code>). В таблице слоёв разместите линии над полигонами. Переименуйте слои в «Водотоки» и «Водоёмы» соответственно.</p>
<blockquote>
<p>Все векторные наборы данных для этого упражнения созданы на основе <a href="http://www.vsegei.com/ru/info/topo/">цифровых географических основ ВСЕГЕИ</a>. Это один из немногих общедоступных источников пространственных данных общегеографического содержания на территорию нашей страны и ближнего зарубежья.</p>
</blockquote></li>
<li><p>Настройте символику для добавленных векторных наборов данных. Также, как и для растров, настройки символики векторных данных помещаются в свойствах слоя, на вкладке <strong>Стиль</strong>.</p>
<ul>
<li>Для полигонов гидрографии установите стандартный стиль <em>topo water</em> из библиотеки QGIS.<br />
</li>
<li>Для линейных объектов используйте стандартный стиль <em>simple blue line</em>, но уменьшите толщину линии до 0,26 мм</li>
</ul>
<blockquote>
<p>Если приглядеться, то можно увидеть, что знак контура береговой линии и знаки линейных объектов гидрографии на суше не совпадают. Можно изменить цвет и толщину обводки для полигонов объектов гидрографии, сделав их такими же, как у рек и каналов.</p>
</blockquote></li>
<li><p>Добавьте к карте железные дороги и автодороги. Переименуйте слои и изобразите их линиями толщиной 0,26 мм. Для автодорог используйте красный цвет, для железных дорог — тёмно-серый (20 % светлоты).</p></li>
</ol>
</div>
<div id="map-design-general-attributes" class="section level2" number="1.7">
<h2><span class="header-section-number">1.7</span> Использование атрибутов объектов при визуализации</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>До этого момента мы работали только визуальным представлением слоя и никак не касались семантической составляющей. На следующем шаге вы будете использовать разные значки для различных типов объектов в одном слое.</p>
<ol style="list-style-type: decimal">
<li><p>Добавьте к карте набор данных <code>adm_line</code>, переместите добавленный слой ниже всех линейных объектов и переименуйте его в «Границы».</p></li>
<li><p>Вызовите контекстное меню слоя «Границы» и выберите опцию «Открыть таблицу атрибутов». Откроется таблица атрибутов источника данных.</p>
<div class="figure">
<img src="images/Ex01/AttributeTable.png" alt="" />
<p class="caption">Attribute Table</p>
</div>
<p>Таблица атрибутов — это представление базы данных, связанной с набором пространственных объектов. База функционирует по общим правилам реляционной базы данных: каждый объект представляется одной «строкой», в каждом столбце (поле) одному объекту соответствует одно значение. Атрибуты играют важную роль в геоинформационных системах. На их основе происходит визуализация данных, также они участвуют в большинстве операций пространственного анализа. В этом упражнении вы используете атрибуты, чтобы присвоить различные стили объектам в одном слое.</p></li>
<li><p>Закройте таблицу атрибутов или пристыкуйте к нижней части окна. Откройте свойства слоя на вкладке <em>Стиль</em>.</p></li>
<li><p>Измените тип визуализации с <em>Обычный знак</em> на <em>Уникальные значения</em>. Эта настройка позволяет присваивать объектам различные стили в соответствии со значениями определённого атрибута.</p></li>
<li><p>В выпадающем списке <strong>Поле</strong> выберите столбец <code>L_TYPE</code>, по которому будет происходить классификация, и нажмите кнопку <strong>Классифицировать</strong> внизу формы.</p>
<p>В форму добавились три записи. Две из них представляют фактически имеющиеся значения атрибутов, третья — «пустая» — предназначена для визуализации всех остальных значений (которых фактически нет в таблице на настоящий момент, но которые могут появиться позже в результате редактирования)</p>
<div class="figure">
<img src="images/Ex01/Classes.png" alt="" />
<p class="caption">Классы</p>
</div>
<p><!-- Возможности автоматической настройки визуализации у QGIS пока невелики по сравнению с ArcGIS или MapInfo. Например, сейчас нашим классам присвоены стили в виде линий, у которых совпадают все параметры, кроме цвета. По-другому QGIS (пока) не умеет .   --></p>
<p><!-- Наша задача — создать разные условные знаки для разных типов границ --></p></li>
<li><p>Дважды щёлкните на значке, соответствующем классу <em>Границы государственные</em>. Откроется уже знакомый вам интерфейс настройки условных знаков. Обратите внимание на форму в левом верхнем углу: вы можете задать несколько слоёв для одного условного знака.</p>
<blockquote>
<p>Разумеется, слои в таблице слоёв и слои условного знака — это две не связанные между собой сущности</p>
</blockquote></li>
<li><p>Создайте для государственных границ двухслойный знак. Нижний слой: линия серого цвета (75 % светлоты) шириной 1 мм, с плоскими концами (чтобы концы линии не «свешивались» в воду). Верхний слой: линия тёмно-серого цвета (светлота 20 %) толщиной 0,26 мм, штрихпунктирная, с плоскими концами.</p></li>
<li><p>Создайте аналогичный знак для границ субъектов РФ. Нижний слой: линия серого цвета (75 % светлоты) шириной 0,8 мм, с плоскими концами. Верхний слой: линия тёмно-серого цвета (светлота 20 %) толщиной 0,26 мм, штриховая, с плоскими концами.</p></li>
<li><p>Для прочих границ используйте однослойный условный знак: пунктирная линия тёмно-серого цвета</p></li>
</ol>
<p><strong>Сохраните проект.</strong></p>
<!-- **Далее мы не будем напоминать вам о необходимости сохранять проект карты. Делайте это самостоятельно.** -->
</div>
<div id="map-design-general-labels" class="section level2" number="1.8">
<h2><span class="header-section-number">1.8</span> Подписи</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Добавьте на карту набор данных <code>elevation_points.shp</code>, расположите слой на самом верху списка и переименуйте его в <em>Вершины</em>. Настройте отображение единым знаком в виде чёрного треугольника, аналогично тому, как высочайшие отметки показываются в школьных атласах.</p></li>
<li><p>Откройте таблицу атрибутов слоя. Какие поля можно использовать для подписей?</p>
<blockquote>
<p>На общегеографических картах обычно приводятся высоты и названия горных вершин. В этом упражнении мы ограничимся названиями.</p>
</blockquote></li>
<li><p>Закройте таблицу атрибутов и откройте свойства слоя. Перейдите на вкладку «Подписи». Переключите режим подписей на <em>Single labels</em> («Подписывать объекты значением атрибута»). В открывшемся меню в выпадающем списке «Подписывать значениями» выберите поле <code>NAME</code> — тексты подписей будут «считываться» из него.</p></li>
<li><p>В поле <strong>Text sample</strong> отображается пример подписи с теми настройками, которые заданы по умолчанию. Если вы будете менять настройки подписей (шрифт, форматирование, «гало» и др.), этот пример будет меняться. Сейчас мы последовательно пройдём по вкладкам настройки подписей, исправив необходимые параметры.</p>
<ul>
<li>На вкладке <em>Текст</em> установите гарнитуру («шрифт») Times New Roman, начертание («стиль») полужирный курсив, кегль («размер») 8.</li>
<li>На вкладке <em>Тень</em> включите опцию «Рисовать падающую тень». Это повысит читаемость подписей на карте.</li>
<li>На вкладке <em>Размещение</em> выберите опцию «Картографическое», расстояние 0,1 мм от границ символа (<em>from symbol bounds</em>)</li>
</ul>
<blockquote>
<p>Также с целью повышения читаемости подписей можно использовать обводку («Буфер») и фон (англ. <em>Background</em>, неправильно переведён как «История»).</p>
</blockquote>
<p>Примените настройки подписей и закройте свойства слоя</p></li>
<li><p>В каталоге <code>vector_data</code> остался незадействованный слой — <code>population_points</code>. Добавьте его в проект, переименуйте и самостоятельно настройте условные знаки и подписи. Используйте параметр <em>уникальные значения</em> для того, чтобы отобразить города с разной численностью населения разными условными знаками.</p></li>
</ol>
<p><kbd><strong>Снимок экрана №4.</strong> Окно QGIS после завершения настройки символов</kbd></p>
<p><strong>Сохраните проект.</strong></p>
</div>
<div id="map-design-general-layout" class="section level2" number="1.9">
<h2><span class="header-section-number">1.9</span> Настройка компоновки карты</h2>
<p><a href="map-design-general.html#map-design-general">В начало упражнения ⇡</a></p>
<p>Изображение, которое вы видите во фрейме данных, можно экспортировать «как есть» (с помощью опции <strong>Проекты — Импорт/экспорт — Экспортировать карту как изображение…</strong>). Однако для картографических целей, как правило, формируется <strong>компоновка карты</strong>. На листе заданного формата размещается картографическое изображение, добавляется название, легенда, масштабная линейка и элементы зарамочного оформления.</p>
<p>Сейчас мы создадим макет компоновки с расчётом на то, что итоговая карта будет вставлена в отчёт.</p>
<ol style="list-style-type: decimal">
<li><p>Создайте новый макет компоновки (<strong>Проект — Создать Макет…</strong>) или <code>Ctrl+P</code>.</p></li>
<li><p>Введите название макета на своё усмотрение.</p>
<p>После ввода названия откроется окно компоновки (<em>Layout</em>)<br />
<img src="images/Ex01/Layout.png" alt="Layout" /></p></li>
<li><p>Добавьте на лист картографическое изображение. Для этого используется инструмент <strong>Добавить карту</strong> из панели инструментов. Выберите инструмент и «растяните» прямоугольник карты на листе.</p></li>
<li><p>После добавления элемента откроется панель его свойств. Изучите настройки, доступные в этой панели, а затем установите для карты знаменатель масштаба <em>4 000 000</em> и размеры <span class="math inline">\(237\times130\)</span> мм. В том же разделе, где устанавливаются размеры элемента, задайте для элемента карты положение по <span class="math inline">\(X = 30\)</span> мм и положение по <span class="math inline">\(Y = 30\)</span> мм.</p>
<blockquote>
<p>Положение элемента на листе отсчитывается от верхнего левого угла листа до точки привязки элемента.</p>
</blockquote></li>
<li><p>Добавьте к карте градусную сетку. Для этого в свойствах элемента найдите раздел <strong>Сетки</strong>, нажмите на кнопку <em>Добавить новую сетку</em>, а затем <em>Modify Grid</em>. Откроется меню настройки сетки. Задайте для сетки проекцию WGS84, интервал по долготе — <span class="math inline">\(4°\)</span>, интервал по широте — <span class="math inline">\(2°\)</span>. Также уменьшите толщину линий сетки до <span class="math inline">\(0.1\)</span> мм. Для этого щёлкните левой кнокой мыши по элементу <em>Стиль линии</em> и выполните необходимые настройки в уже привычном для вас интерфейсе. Вернуться обратно к настройкам сетки можно, нажав на кнопку <em>Назад</em> в левом верхнем углу интерфейса.</p></li>
<li><p>Добавьте рамку сетки в виде простой линии. Для этого в свойствах элемента активируйте раздел <strong>Рамка</strong>.</p></li>
<li><p>Включите отображение подписей координатной сетки. Для этого в разделе <strong>Сетки</strong> выберите в списке созданную сетку, нажмите кнопку <strong>Modify Grid…</strong> и отметьте флажок <em>Draw Coordinates</em>. Настройте отображение подписей так, чтобы широта подписывалась только вдоль западной и восточной рамки, а долгота — только вдоль северной и южной. Используйте формат координат <em>Десятичные с окончанием</em> и нулевое число знаков после запятой (этот параметр в QGIS называется <em>Точность координат</em>).</p></li>
<li><p>Вернитесь к макету и передвиньте картографическое изображение внутри элемента таким образом, чтобы вместилась вся основная часть Главного Кавказского хребта. Можно ориентироваться на города: в северо-западном углу карты должен отображаться Краснодар, в юго-восточном — Баку.</p>
<blockquote>
<p>Для перемещения карты внутри фрейма используется инструмент <strong>Перемещение содержимого элемента</strong>.</p>
</blockquote></li>
<li><p>Добавьте на лист название карты. Для этого <strong>вставьте новую надпись</strong> и разместите её над элементом карты. Введите название карты «Кавказские горы», используйте выключку (горизонтальное выравнивание) по центру, настройте параметры шрифта на своё усмотрение (заголовки обычно набираются прописными буквами с разреженным кернингом).</p></li>
<li><p>Добавьте на лист масштабную линейку. Переместите линейку в юго-западный угол карты, установите для неё отображение фона и границы, исправьте обозначение единиц измерения. Уменьшите высоту линейки, кегль шрифта и отступы подписей, чтобы линейка смотрелась более компактно.</p></li>
<li><p>Добавьте на лист легенду. Легенда будет собрана автоматически на основе тех настроек визуализации, которые применены для слоёв карты.</p></li>
<li><p>Отредактируйте легенду. Для этого сначала выключите автообновление (<em>Auto update</em>) элементов легенды, чтобы сделать список элементов доступным для редактирования. Удалите из легенды те условные знаки, которые не встречаются на карте, и переименуйте неинформативные или пустые подписи.</p></li>
<li><p>Добавьте обводку для элемента легенды и разместите элемент в северо-восточном углу карты.</p></li>
<li><p>Добавьте ещё один текстовый элемент и впишите в него сведения об авторстве.</p></li>
<li><p>Экспортируйте получившуюся карту в изображение формата PNG («Макет» — «Экспорт в изображение…» или специальная кнопка на главной панели инструментов макета).</p></li>
</ol>
<p><strong>Сохраните проект.</strong></p>
<table>
<tbody>
<tr class="odd">
<td><em>Энтин А.Л., Самсонов Т.Е.</em> <strong>Основы геоинформатики: практикум в QGIS</strong>. М.: Географический факультет МГУ, 2021.</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="map-design-world.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["qgis-course.pdf", "qgis-course.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
