<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS</title>
  <meta name="description" content="Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS" />
  <meta name="github-repo" content="aentin/qgis-course" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS" />
  
  <meta name="twitter:description" content="Упражнение 4 Создание социально-экономической карты | Основы геоинформатики: практикум в QGIS" />
  

<meta name="author" content="Тимофей Самсонов, Андрей Карпачевский, Андрей Энтин" />


<meta name="date" content="2022-03-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="map-design-quaternary.html"/>
<link rel="next" href="raster-reference.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Основы геоинформатики</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Общие сведения</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#учебные-материалы"><i class="fa fa-check"></i>Учебные материалы</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#программное-обеспечение-для-работы"><i class="fa fa-check"></i>Программное обеспечение для работы</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#windows"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#macos"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#linux"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Основы работы с QGIS</b></span></li>
<li class="chapter" data-level="1" data-path="map-design-general.html"><a href="map-design-general.html"><i class="fa fa-check"></i><b>1</b> Создание общегеографической карты</a>
<ul>
<li class="chapter" data-level="1.1" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-intro"><i class="fa fa-check"></i><b>1.1</b> Введение</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-checklist"><i class="fa fa-check"></i><b>1.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-begin"><i class="fa fa-check"></i><b>1.2</b> Начало работы</a></li>
<li class="chapter" data-level="1.3" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-projection"><i class="fa fa-check"></i><b>1.3</b> Настройка системы координат</a></li>
<li class="chapter" data-level="1.4" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-navigation"><i class="fa fa-check"></i><b>1.4</b> Навигация по карте</a></li>
<li class="chapter" data-level="1.5" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-relief"><i class="fa fa-check"></i><b>1.5</b> Оформление изображения рельефа</a></li>
<li class="chapter" data-level="1.6" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-vector"><i class="fa fa-check"></i><b>1.6</b> Добавление векторных наборов данных</a></li>
<li class="chapter" data-level="1.7" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-attributes"><i class="fa fa-check"></i><b>1.7</b> Использование атрибутов объектов при визуализации</a></li>
<li class="chapter" data-level="1.8" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-labels"><i class="fa fa-check"></i><b>1.8</b> Подписи</a></li>
<li class="chapter" data-level="1.9" data-path="map-design-general.html"><a href="map-design-general.html#map-design-general-layout"><i class="fa fa-check"></i><b>1.9</b> Настройка компоновки карты</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="map-design-world.html"><a href="map-design-world.html"><i class="fa fa-check"></i><b>2</b> Создание политической карты мира</a>
<ul>
<li class="chapter" data-level="2.1" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-intro"><i class="fa fa-check"></i><b>2.1</b> Введение</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-checklist"><i class="fa fa-check"></i><b>2.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-begin"><i class="fa fa-check"></i><b>2.2</b> Начало работы</a></li>
<li class="chapter" data-level="2.3" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-input-data"><i class="fa fa-check"></i><b>2.3</b> Загрузка исходных данных</a></li>
<li class="chapter" data-level="2.4" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-qgis-project"><i class="fa fa-check"></i><b>2.4</b> Создание ГИС-проекта и загрузка данных в проект</a></li>
<li class="chapter" data-level="2.5" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-crs"><i class="fa fa-check"></i><b>2.5</b> Настройка системы координат проекта</a></li>
<li class="chapter" data-level="2.6" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-colorbrewer"><i class="fa fa-check"></i><b>2.6</b> Окраска стран в разные цвета</a></li>
<li class="chapter" data-level="2.7" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-other-layers"><i class="fa fa-check"></i><b>2.7</b> Добавление других слоёв на карту</a></li>
<li class="chapter" data-level="2.8" data-path="map-design-world.html"><a href="map-design-world.html#map-design-world-layout"><i class="fa fa-check"></i><b>2.8</b> Создание компоновки карты</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html"><i class="fa fa-check"></i><b>3</b> Создание карты четвертичных отложений</a>
<ul>
<li class="chapter" data-level="3.1" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-intro"><i class="fa fa-check"></i><b>3.1</b> Введение</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-checklist"><i class="fa fa-check"></i><b>3.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-begin"><i class="fa fa-check"></i><b>3.2</b> Начало работы</a></li>
<li class="chapter" data-level="3.3" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-data"><i class="fa fa-check"></i><b>3.3</b> Добавление данных в проект</a></li>
<li class="chapter" data-level="3.4" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-classification"><i class="fa fa-check"></i><b>3.4</b> Применение готового стиля к слою</a></li>
<li class="chapter" data-level="3.5" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-csv"><i class="fa fa-check"></i><b>3.5</b> Создание набора пространственных данных из таблицы с координатами</a></li>
<li class="chapter" data-level="3.6" data-path="map-design-quaternary.html"><a href="map-design-quaternary.html#map-design-quaternary-final"><i class="fa fa-check"></i><b>3.6</b> Оформление карты</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="map-design-population.html"><a href="map-design-population.html"><i class="fa fa-check"></i><b>4</b> Создание социально-экономической карты</a>
<ul>
<li class="chapter" data-level="4.1" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-intro"><i class="fa fa-check"></i><b>4.1</b> Введение</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-checklist"><i class="fa fa-check"></i><b>4.1.1</b> Контольный лист</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-begin"><i class="fa fa-check"></i><b>4.2</b> Начало работы</a></li>
<li class="chapter" data-level="4.3" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-change-crs"><i class="fa fa-check"></i><b>4.3</b> Изменение системы координат проекта</a></li>
<li class="chapter" data-level="4.4" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-fill-color"><i class="fa fa-check"></i><b>4.4</b> Создание картограмм</a></li>
<li class="chapter" data-level="4.5" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-symbols"><i class="fa fa-check"></i><b>4.5</b> Создание шкалы значков</a></li>
<li class="chapter" data-level="4.6" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-labels"><i class="fa fa-check"></i><b>4.6</b> Добавление подписей значков</a></li>
<li class="chapter" data-level="4.7" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-basemap"><i class="fa fa-check"></i><b>4.7</b> Настройка условных знаков географической основы</a></li>
<li class="chapter" data-level="4.8" data-path="map-design-population.html"><a href="map-design-population.html#map-design-population-layout"><i class="fa fa-check"></i><b>4.8</b> Создание макета карты</a></li>
</ul></li>
<li class="part"><span><b>II Редактирование данных в ГИС</b></span></li>
<li class="chapter" data-level="5" data-path="raster-reference.html"><a href="raster-reference.html"><i class="fa fa-check"></i><b>5</b> Привязка графических материалов</a>
<ul>
<li class="chapter" data-level="5.1" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-intro"><i class="fa fa-check"></i><b>5.1</b> Введение</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-control"><i class="fa fa-check"></i><b>5.1.1</b> Контрольный лист</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-input"><i class="fa fa-check"></i><b>5.2</b> Привязка растра по меткам координат</a></li>
<li class="chapter" data-level="5.3" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-basemap"><i class="fa fa-check"></i><b>5.3</b> Добавление базовой карты</a></li>
<li class="chapter" data-level="5.4" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-frommap"><i class="fa fa-check"></i><b>5.4</b> Использование координат с базовой карты</a></li>
<li class="chapter" data-level="5.5" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-accuracy"><i class="fa fa-check"></i><b>5.5</b> Оценка точности привязки</a></li>
<li class="chapter" data-level="5.6" data-path="raster-reference.html"><a href="raster-reference.html#raster-reference-linear"><i class="fa fa-check"></i><b>5.6</b> Интерактивная привязка растров на основе аффинного преобразования</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="digitizing-districts.html"><a href="digitizing-districts.html"><i class="fa fa-check"></i><b>6</b> Векторизация карты-схемы из сети Интернет</a>
<ul>
<li class="chapter" data-level="6.1" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-intro"><i class="fa fa-check"></i><b>6.1</b> Введение</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-control"><i class="fa fa-check"></i><b>6.1.1</b> Контрольный лист</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-basedata"><i class="fa fa-check"></i><b>6.2</b> Подготовка исходных данных</a></li>
<li class="chapter" data-level="6.3" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-new-geopackage"><i class="fa fa-check"></i><b>6.3</b> Создание набора пространственных данных</a></li>
<li class="chapter" data-level="6.4" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-drawing"><i class="fa fa-check"></i><b>6.4</b> Векторизация районов</a></li>
<li class="chapter" data-level="6.5" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-query"><i class="fa fa-check"></i><b>6.5</b> Пространственные и атрибутивные запросы</a></li>
<li class="chapter" data-level="6.6" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-diagrams"><i class="fa fa-check"></i><b>6.6</b> Визуализация слоя при помощи картодиаграмм</a></li>
<li class="chapter" data-level="6.7" data-path="digitizing-districts.html"><a href="digitizing-districts.html#digitizing-layout"><i class="fa fa-check"></i><b>6.7</b> Создание и экспорт макета компоновки</a></li>
</ul></li>
<li class="part"><span><b>III Векторный анализ</b></span></li>
<li class="chapter" data-level="7" data-path="overlay.html"><a href="overlay.html"><i class="fa fa-check"></i><b>7</b> Анализ пространственных взаимосвязей</a>
<ul>
<li class="chapter" data-level="7.1" data-path="overlay.html"><a href="overlay.html#overlay-intro"><i class="fa fa-check"></i><b>7.1</b> Введение</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="overlay.html"><a href="overlay.html#overlay-control"><i class="fa fa-check"></i><b>7.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="7.1.2" data-path="overlay.html"><a href="overlay.html#overlay-annotation"><i class="fa fa-check"></i><b>7.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="overlay.html"><a href="overlay.html#overlay-vectors"><i class="fa fa-check"></i><b>7.2</b> Визуальный анализ векторных слоев</a></li>
<li class="chapter" data-level="7.3" data-path="overlay.html"><a href="overlay.html#overlay-intersect"><i class="fa fa-check"></i><b>7.3</b> Оверлей слоев методом пересечения</a></li>
<li class="chapter" data-level="7.4" data-path="overlay.html"><a href="overlay.html#overlay-merge"><i class="fa fa-check"></i><b>7.4</b> Слияние результатов пересечения с целью получения показателя пространственной связи</a></li>
<li class="chapter" data-level="7.5" data-path="overlay.html"><a href="overlay.html#overlay-sumarea-subtypes"><i class="fa fa-check"></i><b>7.5</b> Объединение подтипов почв для подсчёта суммарной площади</a></li>
<li class="chapter" data-level="7.6" data-path="overlay.html"><a href="overlay.html#overlay-fieldcalc"><i class="fa fa-check"></i><b>7.6</b> Расчёт площадей объектов</a></li>
<li class="chapter" data-level="7.7" data-path="overlay.html"><a href="overlay.html#overlay-join"><i class="fa fa-check"></i><b>7.7</b> Соединение таблиц по названию подтипа почв</a></li>
<li class="chapter" data-level="7.8" data-path="overlay.html"><a href="overlay.html#overlay-resulting"><i class="fa fa-check"></i><b>7.8</b> Вычисление результирующих значений показателя связи</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="spatrelations.html"><a href="spatrelations.html"><i class="fa fa-check"></i><b>8</b> Анализ пространственных соотношений</a>
<ul>
<li class="chapter" data-level="8.1" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-intro"><i class="fa fa-check"></i><b>8.1</b> Введение</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-control"><i class="fa fa-check"></i><b>8.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="8.1.2" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-annotation"><i class="fa fa-check"></i><b>8.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-vizual"><i class="fa fa-check"></i><b>8.2</b> Визуальный анализ векторных слоев</a></li>
<li class="chapter" data-level="8.3" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-overlay"><i class="fa fa-check"></i><b>8.3</b> Расчёт площадей и оверлей</a></li>
<li class="chapter" data-level="8.4" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-join"><i class="fa fa-check"></i><b>8.4</b> Соединение таблиц по ключевому полю</a></li>
<li class="chapter" data-level="8.5" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-other"><i class="fa fa-check"></i><b>8.5</b> Расчёт площадей прочих объектов</a></li>
<li class="chapter" data-level="8.6" data-path="spatrelations.html"><a href="spatrelations.html#spatrelations-symbology"><i class="fa fa-check"></i><b>8.6</b> Настройка символики</a></li>
</ul></li>
<li class="part"><span><b>IV Растровый анализ</b></span></li>
<li class="chapter" data-level="9" data-path="weighted-overlay.html"><a href="weighted-overlay.html"><i class="fa fa-check"></i><b>9</b> Оптимизация местоположения</a>
<ul>
<li class="chapter" data-level="9.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-intro"><i class="fa fa-check"></i><b>9.1</b> Введение</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-control"><i class="fa fa-check"></i><b>9.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="9.1.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-annotation"><i class="fa fa-check"></i><b>9.1.2</b> Аннотация</a></li>
<li class="chapter" data-level="9.1.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-warning"><i class="fa fa-check"></i><b>9.1.3</b> Прежде чем начать…</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-init"><i class="fa fa-check"></i><b>9.2</b> Добавление исходных данных</a></li>
<li class="chapter" data-level="9.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-slopes"><i class="fa fa-check"></i><b>9.3</b> Расчет углов наклона</a></li>
<li class="chapter" data-level="9.4" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-distances"><i class="fa fa-check"></i><b>9.4</b> Расчет расстояний</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-roads"><i class="fa fa-check"></i><b>9.4.1</b> Расстояния до дорог</a></li>
<li class="chapter" data-level="9.4.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-streams"><i class="fa fa-check"></i><b>9.4.2</b> Водотоки</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass"><i class="fa fa-check"></i><b>9.5</b> Переклассификация наборов данных</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass-distance"><i class="fa fa-check"></i><b>9.5.1</b> Переклассификация растров расстояний</a></li>
<li class="chapter" data-level="9.5.2" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-reclass-slope"><i class="fa fa-check"></i><b>9.5.2</b> Переклассификация растра крутизны</a></li>
<li class="chapter" data-level="9.5.3" data-path="weighted-overlay.html"><a href="weighted-overlay.html#преобразование-слоя-типов-землепользования-в-растровое-представление"><i class="fa fa-check"></i><b>9.5.3</b> Преобразование слоя типов землепользования в растровое представление</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-combination"><i class="fa fa-check"></i><b>9.6</b> Нахождение мест с наилучшей комбинацией факторов с помощью взвешенного оверлея</a></li>
<li class="chapter" data-level="9.7" data-path="weighted-overlay.html"><a href="weighted-overlay.html#weighted-overlay-final-decision"><i class="fa fa-check"></i><b>9.7</b> Окончательный выбор участка</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="hydrodem.html"><a href="hydrodem.html"><i class="fa fa-check"></i><b>10</b> Гидрологическое моделирование на основе ЦМР</a>
<ul>
<li class="chapter" data-level="10.1" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-intro"><i class="fa fa-check"></i><b>10.1</b> Введение</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-control"><i class="fa fa-check"></i><b>10.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="10.1.2" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-annotation"><i class="fa fa-check"></i><b>10.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-init"><i class="fa fa-check"></i><b>10.2</b> Получение и подготовка исходных данных</a></li>
<li class="chapter" data-level="10.3" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-preprocessing"><i class="fa fa-check"></i><b>10.3</b> Гидрологическая коррекция ЦМР</a></li>
<li class="chapter" data-level="10.4" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-flowacc"><i class="fa fa-check"></i><b>10.4</b> Расчёт водосборной площади</a></li>
<li class="chapter" data-level="10.5" data-path="hydrodem.html"><a href="hydrodem.html#hydrodem-basin"><i class="fa fa-check"></i><b>10.5</b> Определение границ бассейна р. Оскол</a></li>
</ul></li>
<li class="part"><span><b>V Сетевой анализ</b></span></li>
<li class="chapter" data-level="11" data-path="networks.html"><a href="networks.html"><i class="fa fa-check"></i><b>11</b> Анализ транспортных сетей</a>
<ul>
<li class="chapter" data-level="11.1" data-path="networks.html"><a href="networks.html#networks-intro"><i class="fa fa-check"></i><b>11.1</b> Введение</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="networks.html"><a href="networks.html#networks-control"><i class="fa fa-check"></i><b>11.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="11.1.2" data-path="networks.html"><a href="networks.html#networks-annotation"><i class="fa fa-check"></i><b>11.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="networks.html"><a href="networks.html#networks-init"><i class="fa fa-check"></i><b>11.2</b> Добавление исходных данных</a></li>
<li class="chapter" data-level="11.3" data-path="networks.html"><a href="networks.html#networks-query"><i class="fa fa-check"></i><b>11.3</b> Выбор элементов дорожной сети</a></li>
<li class="chapter" data-level="11.4" data-path="networks.html"><a href="networks.html#networks-route"><i class="fa fa-check"></i><b>11.4</b> Построение маршрута</a></li>
<li class="chapter" data-level="11.5" data-path="networks.html"><a href="networks.html#networks-isochrones"><i class="fa fa-check"></i><b>11.5</b> Расчёт изохрон</a></li>
<li class="chapter" data-level="11.6" data-path="networks.html"><a href="networks.html#networks-matrix"><i class="fa fa-check"></i><b>11.6</b> Работа с матрицей «источник-назначение»</a></li>
</ul></li>
<li class="part"><span><b>VI Геокодирование</b></span></li>
<li class="chapter" data-level="12" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>12</b> Адресное геокодирование и ядерная оценка плотности</a>
<ul>
<li class="chapter" data-level="12.1" data-path="geocoding.html"><a href="geocoding.html#geoding-intro"><i class="fa fa-check"></i><b>12.1</b> Введение</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-control"><i class="fa fa-check"></i><b>12.1.1</b> Контрольный лист</a></li>
<li class="chapter" data-level="12.1.2" data-path="geocoding.html"><a href="geocoding.html#geocoding-annotation"><i class="fa fa-check"></i><b>12.1.2</b> Аннотация</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="geocoding.html"><a href="geocoding.html#geocoding-input"><i class="fa fa-check"></i><b>12.2</b> Получение исходных данных</a></li>
<li class="chapter" data-level="12.3" data-path="geocoding.html"><a href="geocoding.html#geocoding-debug"><i class="fa fa-check"></i><b>12.3</b> Тестирование работы сервиса геокодирования</a></li>
<li class="chapter" data-level="12.4" data-path="geocoding.html"><a href="geocoding.html#geocoding-import"><i class="fa fa-check"></i><b>12.4</b> Импорт списка адресов в QGIS</a></li>
<li class="chapter" data-level="12.5" data-path="geocoding.html"><a href="geocoding.html#geocoding-batch-install"><i class="fa fa-check"></i><b>12.5</b> Установка модуля пакетного геокодирования</a></li>
<li class="chapter" data-level="12.6" data-path="geocoding.html"><a href="geocoding.html#geocoding-batch"><i class="fa fa-check"></i><b>12.6</b> Пакетное геокодирование</a></li>
<li class="chapter" data-level="12.7" data-path="geocoding.html"><a href="geocoding.html#geocoding-mapping"><i class="fa fa-check"></i><b>12.7</b> Картографирование плотности объявлений</a></li>
</ul></li>
<li class="appendix"><span><b>Справочные сведения</b></span></li>
<li class="chapter" data-level="A" data-path="manual-catalog.html"><a href="manual-catalog.html"><i class="fa fa-check"></i><b>A</b> Форматы пространственных данных</a>
<ul>
<li class="chapter" data-level="A.1" data-path="manual-catalog.html"><a href="manual-catalog.html#manual-dataformats-shapefile"><i class="fa fa-check"></i><b>A.1</b> Шейп-файлы</a></li>
<li class="chapter" data-level="A.2" data-path="manual-catalog.html"><a href="manual-catalog.html#geopackage"><i class="fa fa-check"></i><b>A.2</b> GeoPackage</a></li>
<li class="chapter" data-level="A.3" data-path="manual-catalog.html"><a href="manual-catalog.html#базы-геоданных-esri"><i class="fa fa-check"></i><b>A.3</b> Базы геоданных ESRI</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="manual-crs.html"><a href="manual-crs.html"><i class="fa fa-check"></i><b>B</b> Форматы описания систем координат</a></li>
<li class="chapter" data-level="C" data-path="manual-plugins.html"><a href="manual-plugins.html"><i class="fa fa-check"></i><b>C</b> Установка модулей в QGIS</a>
<ul>
<li class="chapter" data-level="C.1" data-path="manual-plugins.html"><a href="manual-plugins.html#manual-plugins-install"><i class="fa fa-check"></i><b>C.1</b> Установка модулей</a></li>
<li class="chapter" data-level="C.2" data-path="manual-plugins.html"><a href="manual-plugins.html#manual-plugins-update"><i class="fa fa-check"></i><b>C.2</b> Обновление модулей</a></li>
<li class="chapter" data-level="C.3" data-path="manual-plugins.html"><a href="manual-plugins.html#manual-plugins-uninstall"><i class="fa fa-check"></i><b>C.3</b> Удаление модулей</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="mastertest.html"><a href="mastertest.html"><i class="fa fa-check"></i><b>D</b> Инструкция по регистрации в системе Мастер-тест</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Основы геоинформатики: практикум в QGIS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="map-design-population" class="section level1" number="4">
<h1><span class="header-section-number">Упражнение 4</span> Создание социально-экономической карты</h1>
<p><a href="https://1drv.ms/u/s!AmtmZDq3JgxHgZkCX20q_RZQo7SXWQ?e=k0InAb">Архив с данными и файлом отчёта</a></p>
<div id="map-design-population-intro" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Введение</h2>
<p><strong>Цель задания</strong> — закрепление навыков загрузки и визуализации данных в QGIS.</p>
<p><strong>Необходимая теоретическая подготовка:</strong> модели пространственных данных, модели пространственных объектов, базы пространственных объектов, картографические проекции.</p>
<p><strong>Необходимая практическая подготовка:</strong> в объёме упражнения 1.</p>
<p><strong>Исходные данные:</strong> база пространственных данных на территорию Российской Федерации</p>
<p><strong>Ожидаемый результат:</strong> тематическая карта «Население России» масштаба 1:35 000 000</p>
<p>В этом упражнении вы закрепите базовые навыки визуализации с использованием программных средств ГИС, составив карту населения Российской Федерации в разрезе субъектов фередации и крупных населённых пунктов. На картах населения, как правило, изображается людность городов (способом значков) и плотность населения (способом количественного фона). В рамках упражнения мы не будем пытаться выполнить «объективное» районирование территории по естественным градациям плотности населения; вместо этого воспользуемся обобщённой статистикой по плотности населения субъектов РФ.</p>
<div id="map-design-population-checklist" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Контольный лист</h3>
<ul>
<li>Добавить на карту источники пространственных данных</li>
<li>Импортировать символику</li>
<li>Настроить подписи объектов</li>
<li>Создать набор пространственных данных из текстового файла</li>
<li>Создать компоновку карты и легенду</li>
<li>Экспортировать результат в графический файл</li>
</ul>
</div>
</div>
<div id="map-design-population-begin" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Начало работы</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Скачайте архив с исходными данными для упражнения и распакуйте его в свою рабочую директорию.</p></li>
<li><p>Запустите <strong>QGIS</strong>. Нажмите кнопку <strong>Сохранить</strong> и сохраните проект QGIS (файл формата <code>.qgz</code>) в распакованную папку (<em>Ex03_PopulationMap</em>) под именем <code>Ex03_%Фамилия%</code>. Папка <em>Ex03_PopulationMap</em> теперь является расположением по умолчанию для проекта.</p></li>
<li><p>Откройте <strong>Менеджер источников данных</strong>, на вкладке <strong>Браузер</strong> найдите и разверните <strong>Размещение по умолчанию для проекта</strong>. Вы видите там файл проекта, который вы только что сохранили, и базу данных <code>RussiaPopulationMap.gpkg</code>.</p></li>
<li><p>Разверните содержимое базы <code>RussiaPopulationMap.gpkg</code>.</p>
<p><img src="images/Ex03/GeoPackageStructure.png" /></p>
<blockquote>
<p>Файл формата GeoPackage (*.gpkg) представляет собой базу данных SQLite, внутри которой содержатся таблицы с данными и таблицы с метаданными. В отличие от шейп-файлов, GeoPackage хранит всю необходимую информацию в одном файле. Это позиционируется как одно из главных преимуществ формата.</p>
</blockquote>
<p>Один файл формата GeoPackage может хранить один или несколько наборов пространственных данных. В терминологии разработчиков формата разные наборы данных внутри базы называются <em>слоями</em> (<em>layers</em>) или <em>таблицами данных</em> (<em>data tables</em>). В браузере менеджера источников данных они отображаются с использованием разных значков в зависимости от типа геометрии:</p>
<ul>
<li><img src="images/Ex03/points.png" /> точки;</li>
<li><img src="images/Ex03/polylines.png" /> линии;</li>
<li><img src="images/Ex03/polygons.png" /> полигоны.</li>
</ul>
<p>Как и в случае с шейп-файлами, один набор данных может содержать объекты только одного типа геометрии.</p></li>
<li><p>Добавьте на карту все наборы из базы <code>RussiaPopulationMap.gpkg</code>. Для добавления набора дважды щёлкните по его названию левой кнопкой мыши.</p></li>
<li><p>В панели <strong>Слои</strong> основного окна QGIS расположите слои в следующем порядке:</p>
<ul>
<li>cities (города)</li>
<li>coastline (береговая линия)</li>
<li>boundaries (государственные границы)</li>
<li>lakes (озера)</li>
<li>regions (регионы РФ)</li>
<li>neighbouring countries (соседние страны)</li>
</ul></li>
<li><p>Используя кнопку <img src="images/Ex03/full_extent.png" /> <strong>Полный охват</strong> или комбинацию клавиш <code>Ctrl+Shift+F</code>, измените охват изображения, чтобы во фрейме карты отобразились все объекты из добавленных слоёв.</p>
<p><img src="images/Ex03/FullExtent_WGS84.png" /></p>
<p>Как видите, изображение выглядит немного странно и мало похоже на карту России. Поскольку Чукотский автономный округ расположен одновременно в западном и восточном полушариях, его изображение разрывается, если в проекте используется географическая система координат (что соответствует цилиндрической равнопромежуточной по меридианам проекции). Для карт России обычно применяются конические проекции, причём многих из них нет в международных базах данных. На следующем шаге мы выберем для карты подходящую проекцию и систему координат.</p></li>
</ol>
</div>
<div id="map-design-population-change-crs" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Изменение системы координат проекта</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Откройте <strong>Свойства проекта</strong>, а в них — вкладку <strong>Система координат</strong></p>
<blockquote>
<p>Это можно сделать одним из следующих способов: из меню <strong>Проект</strong> — <strong>Свойства…</strong>, при помощи сочетания клавиш <code>Ctrl+Shift+P</code> или нажатием на надпись <code>EPSG:4326</code> в правом нижнем углу окна QGIS. Рекомендуем пользоваться последним способом, поскольку он сразу открывает нужную вкладку.</p>
</blockquote></li>
<li><p>В строке поиска введите <code>Asia_North</code>, чтобы отфильтровать список доступных систем координат. Теперь в списке предустановленных систем координат (<em>Predefined coordinate systems</em>) отображаются только системы координат, название которых включает символы <code>Asia_North</code>.</p>
<p><img src="images/Ex03/CoordinateSystem.png" /></p></li>
<li><p>Выберите из списка систему координат в конической равновеликой проекции (<em>Equal Area Conic</em>).</p></li>
<li><p>Нажмите <strong>ОК</strong>.</p></li>
<li><p>Установите масштаб карты равным <strong>1:35 000 000</strong>.</p></li>
</ol>
<p><kbd><strong>Снимок экрана №1.</strong> Окно QGIS после изменения системы координат проекта</kbd></p>
<ol start="5" style="list-style-type: decimal">
<li>Сохраните проект QGIS. Запишите файл проекта (<code>*.qgz</code>) в папку с исходными данными и назовите его по шаблону <code>Ex03_%Фамилия%</code>.</li>
</ol>
<blockquote>
<p>Примечание: в дальнейшем мы не будем напоминать вам о необходимости сохранять</p>
</blockquote>
</div>
<div id="map-design-population-fill-color" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Создание картограмм</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<p>Для отображения относительных показателей по единицам административно-территориального деления используется способ изображения, который в русской картографической традиции называется <strong>картограммой</strong>. Картограмму очень просто сделать в ГИС, если у вас есть набор пространственных данных, пригодный для картографирования.</p>
<ol style="list-style-type: decimal">
<li><p>Откройте таблицу атрибутов слоя <strong>regions</strong>. Найдите в этой таблице поле <code>population_density</code>. Это поле таблицы хранит значения плотности населения по субъектам РФ.</p>
<p><img src="images/Ex03/attribute_table.png" /></p></li>
<li><p>Закройте таблицу атрибутов. Откройте свойства слоя <strong>regions</strong> и перейдите на вкладку <strong>Стиль</strong>.</p></li>
<li><p>В верхней части окна выберите из выпадающего списка метод визуализации <em>Градуированный знак</em></p>
<p><img src="images/Ex03/graduated_colors.png" /></p></li>
<li><p>Во втором поле выберите столбец таблицы атрибутов, значения которого будут использованы для создания визуализации. Вам нужно выбрать из выпадающего списка поле, хранящее информцию о значениях плотности населения.</p>
<p><img src="images/Ex03/field.png" /></p>
<blockquote>
<p>Значения, взятые из выбранного поля, будут классифицированы, то есть разделены на диапазоны, с использованием одного из доступных в QGIS метода классификации. Каждому диапазону сопоставляется уникальный условный знак. Все пространственные объекты, значения выбранного атрибута которых попадают в один и тот же диапазон, будут изображены на карте с использованием этого условного знака. Метод визуализации <em>Градуированный знак</em> предполагает, что условные знаки будут отличаться цветом фона, и эти цвета определяются на основе заданного градиента цветов.</p>
</blockquote></li>
<li><p>Нажмите <strong>правой кнопкой мыши</strong> на содержимое параметра <strong>Градиент</strong>. В открывшемся меню перейдите к пункту <strong>Все градиенты</strong> и выберите градиент <strong>Oranges</strong></p>
<p><img src="images/Ex03/gradient.png" /></p></li>
<li><p>После всех применённых настроек блок классов (<em>Classes</em>) остаётся пустым. Чтобы классифицировать имеющееся множество значений, нажмите кнопку <strong>Классифицировать</strong>. Классификация будет выполнена с использованием метода естественных разрывов (<em>Natural Breaks</em>), который используется в QGIS по умолчанию.</p></li>
<li><p>Нажмите <strong>ОК</strong>, чтобы применить изменения и закрыть окно свойств слоя. Изображение должно принять вид, аналогичный рисунку ниже.</p>
<p><img src="images/Ex03/jenks.png" /></p>
<blockquote>
<p>Существует множество методов классификаций: равных интервалов, квантилей, стандартных отклонений и т.д. По умолчанию в большинстве геоинформационных продуктов используется метод естественных интервалов: считается, что он в среднем неплохо отражает особенности распределения. Следует знать, однако, что этот метод классификации плохо справляется с распределениями, обладающими значительной асимметрией и эксцессом (<em>heavy-tail distribution</em>). Кроме того, интервалы, генерируемые этим методом, не обладают свойством наглядности. На следующем шаге мы отредактируем применяемую классификацию.</p>
</blockquote></li>
<li><p>Снова откройте окно свойств слоя на вкладке <strong>Стиль</strong>. Проверьте, что опция <strong>Связать границы классов</strong> (ниже кнопки <strong>Классифицировать</strong>) включена.</p></li>
<li><p>Используя поле ввода в правой части окна, измените число классов на 7.</p>
<p><img src="images/Ex03/classes.png" /></p></li>
<li><p>Теперь мы отредактируем вручную границы классов. Дважды щёлкните левой кнопкой мыши по значениям первого класса в списке. Откроется окно редактирования границ классов</p>
<p><img src="images/Ex03/classes_editing.png" /></p></li>
<li><p>Введение следующие параметры:</p>
<ul>
<li>нижнее значение: <strong>0</strong></li>
<li>верхнее значение: <strong>1</strong></li>
</ul></li>
<li><p>Нажмите <strong>ОК</strong> в окне редактирования границ классов. Вы выделили в отдельный класс регионы РФ со средней плотностью менее 1 человека на квадратный километр. Обратите внимание, что нижняя граница следующего класса тоже изменилась. Это произошло потому, что исполььзуется опция <strong>Связать границы классов</strong>. Это ускорит для вас процесс редактирования границ других классов</p></li>
<li><p>Измените границы следующих классов в соответствии со следующим списком:</p>
<ul>
<li>1 – 5;</li>
<li>5 – 10;</li>
<li>10 – 20;</li>
<li>20 – 50;</li>
<li>50 – 100;</li>
<li>100 – 5000</li>
</ul></li>
<li><p>Нажмите <strong>OK</strong>, чтобы применить новые настройки и закрыть окно свойств слоя.</p></li>
</ol>
<p><kbd><strong>Снимок экрана №2.</strong> Окно QGIS после настройки визуализации слоя регионов РФ</kbd></p>
<ol start="15" style="list-style-type: decimal">
<li><p>Вы настроили визуализацию слоя, но прежде чем переходить к другим слоям, необходимо сделать ряд косметических изменений. Начните с переименования слоя. В таблице слоёв щёлкните правой кнопкой мыши по названию слоя <strong>regions</strong>, выберите пункт меню <strong>Переименовать</strong> и введите для слоя новое название: <strong>Плотность населения, чел/км²</strong>.</p></li>
<li><p>Теперь измените отображение некоторых классов в легенде. Снова откройте свойства слоя на вкладке <strong>Стиль</strong>. В таблице классов в колонке <strong>Легенда</strong> отображаются названия классов в таком виде, в котором они будут показаны в легенде. Дважды щёлкните на подписи легенды класса «0 – 1». Введите вручную новую подпись для легенды: <strong>менее 1</strong>.</p></li>
<li><p>Аналогичным образом измените запись в легенде для класса «100 – 5000»: <strong>более 100</strong>.</p></li>
<li><p>Примените изменения и закройте окно свойств слоя.</p></li>
<li><p>Зажимая левой кнопкой мыши и перетаскивая записи в таблице, измените их порядок так, чтобы они были отсортированы по убыванию:</p>
<p><img src="images/Ex03/descending_order.png" /></p></li>
</ol>
<p>Вы закончили настраивать отображение слоя картограммы и можете перейти к настройке следующего слоя.</p>
</div>
<div id="map-design-population-symbols" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Создание шкалы значков</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<p>Плотность населения на картах обычно отображается с помощью шкалы значков. Вы создадите такую шкалу, используя положения населённых пунктов и данные из таблицы атрибутов соответствующего набора данных.</p>
<ol style="list-style-type: decimal">
<li><p>Откройте таблицу атрибутов слоя <strong>cities</strong>. Найдите в этой таблице поле <code>population_2020</code>. Это поле таблицы хранит значения численности населения по городам РФ (в тысячах человек).</p></li>
<li><p>Закройте таблицу атрибутов. Откройте свойства слоя <strong>cities</strong> и перейдите на вкладку <strong>Стиль</strong>.</p></li>
<li><p>В верхней части окна выберите из выпадающего списка метод визуализации <em>Градуированный знак</em></p></li>
<li><p>Во втором поле выберите столбец таблицы атрибутов, значения которого будут использованы для создания визуализации. Вам нужно выбрать из выпадающего списка поле, хранящее информцию о значениях численности населения.</p></li>
<li><p>Нажмите на кнопку <strong>Значок</strong>. В открывшемся меню выберите новый символ для значка — <em>Dot Purple</em></p>
<p><img src="images/Ex03/dot_purple.png" /></p></li>
<li><p>В поле <strong>Метод</strong> поменяйте вариант <em>Цвет</em> на вариант <em>Размер</em>. Для отображения различных классов будут использоваться значки разных размеров.</p></li>
<li><p>Настройки поля <strong>Размер</strong> (<em>Size from … to …</em>) служат для изменения размера значков. Оставьте значения, предложенные QGIS по умолчанию.</p></li>
<li><p>Нажмите кнопку <strong>Классифицировать</strong>. В списке классов появится пять записей.</p></li>
<li><p>Измените границы классов в соответствии со следующим списком:</p>
<ul>
<li>100 – 200;</li>
<li>200 – 500;</li>
<li>500 – 1000;</li>
<li>1000 – 5000;</li>
<li>5000 – 15000;</li>
</ul></li>
<li><p>Переименуйте элемент легенды, соответствующей классу с самыми большими значениями. Установите новую подпись <strong>более 5000</strong></p></li>
<li><p>Измените порядок строк в таблице таким образом, чтобы значения располагались по убыванию (аналогично тому, как вы делали для легенды картограммы)</p>
<p><img src="images/Ex03/diagram.png" /></p></li>
<li><p>Примените изменения и закройте окно свойств слоя.</p></li>
<li><p>Переименуйте слой <strong>cities</strong>. Задайте этому слою имя <strong>Людность городов, тыс. чел.</strong></p></li>
</ol>
<p>Результат будет выглядеть приблизительно так, как показано на рисунке:</p>
<p><img src="images/Ex03/diagramResult.png" /></p>
<p><kbd><strong>Снимок экрана №3.</strong> Окно QGIS после настройки визуализации слоя населённых пунктов РФ</kbd></p>
</div>
<div id="map-design-population-labels" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Добавление подписей значков</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Откройте свойства слоя <strong>cities</strong>, вкладку <strong>Подписи</strong>. Эта вкладка используется для настройки подписей и содержит ряд вложенных вкладок, позволяющих настраивать параметры размещения и отображения подписей. Прямо сейчас все вложенные опции отключены, поскольку используется режим <strong>Не показывать подписи</strong> (<em>No labels</em>).</p></li>
<li><p>В выпадающем списке в верхней части окна измените <strong>No labels</strong> (<strong>Не показывать подписи</strong>) на <strong>Single labels</strong> (<strong>Подписи по значениям одного поля</strong>). Сразу после изменения этой настройки на вкладке откроется множество других параметров.</p>
<p><img src="images/Ex03/labels01.png" /></p></li>
<li><p>В опции <strong>Значение</strong> выберите поле, из которого будут взяты тексты подписей. Это поле <strong>name_map</strong></p></li>
<li><p>На вкладке <strong>Текст</strong> измените <strong>размер</strong> на <strong>7</strong>.</p>
<p><img src="images/Ex03/labels02.png" /></p>
<blockquote>
<p>«Размер текста» в QGIS — это кегль, или высота шрифта. Традиционно она измеряется в типографских пунктах (пт, <em>pt</em>), так же, как в текстовых редакторах типа Microsoft Word.</p>
</blockquote></li>
<li><p>Перейдите на вкладку «Буфер». Включите опцию <strong>Показывать текстовый буфер</strong> (<em>Draw text buffer</em>). Установите для буфера размер <strong>0,6 миллиметра</strong>.</p>
<p><img src="images/Ex03/labels03.png" /></p></li>
<li><p>На вкладке <strong>Размещение</strong> установите способ размещения значков <strong>Картографический</strong> (<em>Cartographic</em>) и расстояние <strong>0,1 миллиметра</strong> от границ символа (<em>From Symbol Bounds</em>)</p>
<p><img src="images/Ex03/labels04.png" /></p></li>
<li><p>Примените изменения и закройте окно свойств слоя.</p></li>
</ol>
<p>Результат будет выглядеть приблизительно так, как показано на рисунке ниже. Заметьте, что QGIS отрисовывает не все подписи, доступные в таблице атрибутов — например, с высокой вероятностью не показывается подпись Москвы. Опции размещения подписей можно настраивать более детально, но это не входит в задачи этого упражнения.</p>
<p><img src="images/Ex03/LabelResult.png" /></p>
<p><kbd><strong>Снимок экрана №4.</strong> Окно QGIS после добавления подписей</kbd></p>
</div>
<div id="map-design-population-basemap" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Настройка условных знаков географической основы</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<p>Мы задали оформление слоям, отвечающим за тематическую нагрузку создаваемой карты. Теперь нам необходимо задать символику для всех остальных слоёв и расположить их в правильном порядке.</p>
<ol style="list-style-type: decimal">
<li><p>Переименуйте оставшиеся слои:</p>
<ul>
<li>boundaries: <strong>государственные границы</strong></li>
<li>coastline: <strong>береговая линия</strong></li>
<li>lakes: <strong>озёра</strong></li>
<li>neighbouring_countries: <strong>соседние страны</strong></li>
</ul></li>
<li><p>Расположите слои в следующем порядке:</p>
<ul>
<li>Людность городов</li>
<li>береговая линия</li>
<li>государственные границы</li>
<li>озёра</li>
<li>Плотность населения</li>
<li>соседние страны</li>
</ul></li>
<li><p>Задайте для слоя береговой линии символ <strong>simple blue line</strong> и толщину <strong>0,36</strong></p>
<p><img src="images/Ex03/symbol_coastline.png" /></p></li>
<li><p>Задайте для слоя государственных границ символ <strong>Residental road</strong></p>
<p><img src="images/Ex03/symbol_boundaries.png" /></p></li>
<li><p>Задайте для слоя озёр символ <strong>topo water</strong></p></li>
<li><p>Задайте для слоя соседних стран символ <strong>gray 2 fill</strong></p></li>
</ol>
<p>Результат обновления символики слоёв будет выглядеть приблизительно так:</p>
<p><img src="images/Ex03/LabelResult.png" /></p>
</div>
<div id="map-design-population-layout" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Создание макета карты</h2>
<p><a href="map-design-population.html#map-design-population">В начало упражнения ⇡</a></p>
<p>Макет (<em>Layout</em>) в QGIS – это основной способ создания картографических изображений на основе визуализированных пространственных данных. Вы размещаете картографическое изображение на листе, добавляете зарамочное оформление (название, легенду, подпись масштаба и др.), и в заключение экспортируете результат в виде растровой или векторной графики.</p>
<blockquote>
<p><em>Примечание:</em> в одном проекте QGIS может быть создано несколько макетов, использующих разные наборы слоёв.</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>Измените охват картографического изображения в основном окне QGIS так, чтобы территория России умещалась в нём целиком.</p></li>
<li><p>Создайте новый макет компоновки. Для этого нажмите <code>Ctrl+P</code>, воспользуйтесь пунктом меню <strong>Проект</strong> — <strong>Создать макет</strong> или кнопкой <img src="images/Ex03/LayoutButton.png" /> <strong>Создать макет</strong> на главной панели</p></li>
<li><p>QGIS попросит вас ввести название макета. Никаких ограничений на название не накладывается, вы можете использовать любое имя. Например, <code>%Фамилия%_карта_России</code></p></li>
<li><p>Когда вы введёте название макета и нажмёте ОК, откроется новое окно — окно вёрстки макета:</p>
<p><img src="images/Ex03/LayoutBlank.png" /></p>
<p>Белый прямоугольник, который вы видите в центре окна, обозначает страницу бумаги, на которой вы размещаете ваше изображение. Для добавления и редактирования элементов макета используется <strong>Панель инструментов</strong> (см. рисунок ниже). Она может быть размещена горизонтально или вертикально.</p>
<p><img src="images/Ex03/LayoutToolbar.png" /></p></li>
<li><p>Добавьте картографическое изображение на макет. Нажмите кнопку <strong>Добавить Карта</strong> на Панели инструментов или выберите аналогичную опцию из меню <strong>Добавить объект</strong>. Затем установите курсор на то место страницы, где вы хотите поместить северо-западный (верхний левый) угол карты. Зажмите левую кнопку мыши и ведите курсор к месту, где должен располагаться юго-восточный (нижний правый) угол карты. Доведя курсор до этого места, отпустите левую кнопку мыши. Результат должен выглядеть приблизительно так, как показано на рисунке ниже:</p>
<p><img src="images/Ex03/Layout01.png" /></p>
<p>Обратите внимание, что размер картографического изображения меньше размера страницы. Это сделано специально: мы оставляем поля для печати. Несколько позже вы ещё немного уменьшите размер изображения, чтобы разместить на листе название карты, легенду, масштабную линейку и другую необходимую информацию.</p>
<blockquote>
<p>Примечание: перевод QGIS на русский язык всё ещё оставляет желать лучшего. В некоторых случаях ошибки незначительны (как, например, с названием опции «Добавить Карта»), но иногда неправильный перевод может сбить с толку.</p>
</blockquote></li>
<li><p>Следущие несколько шагов будут посвящены настройке сетки координат для карты. Чтобы начать настройку, найдите панель <strong>Свойства элемента</strong>, а в ней — вкладку <strong>Сетки</strong></p>
<p><img src="images/Ex03/Layout02.png" /></p></li>
<li><p>Разверните вкладку <strong>Сетки</strong> и нажмите на кнопку <strong>Добавить сетку</strong>. Обратите внимание, что к одному картографическому изображению можно добавить несколько сеток, присвоив им разные имена. Сейчас мы этого делать не будем, нам достаточно одной сетки географических координат.</p>
<p><img src="images/Ex03/Layout03.png" /></p></li>
<li><p>Нажмите на кнопку <strong>Modify Grid…</strong>, чтобы перейти к настройкам сетки</p></li>
<li><p>В открывшейся панели измените значения следующих параметров:</p>
<p>Внешний вид:</p>
<ul>
<li><strong>Система координат:</strong> установите систему координат WGS 1984 (EPSG:4326)</li>
<li><strong>Интервал по X (долготе):</strong> 30</li>
<li><strong>Интервал по Y (широте):</strong> 15</li>
<li><strong>Стиль линии:</strong> используйте существующий стиль, но уменьшите толщину линии до 0,15 мм</li>
</ul>
<p>Рамка:</p>
<ul>
<li><strong>Вид рамки:</strong> Exterior ticks (внешние метки)</li>
<li>Отображать слева и справа только широту (latitude only)</li>
<li>Отображать сверху и снизу только метки долготы (longitude only)</li>
</ul>
<p>Координаты:</p>
<ul>
<li>Включить опцию <strong>Draw Coordinates</strong> (<strong>Показывать координаты</strong>)</li>
<li><strong>Формат:</strong> Decimal with Suffix (десятичные дроби с меткой направления)</li>
<li>Показывать слева и справа только подписи широты</li>
<li>Показывать снизу и сверху только подписи долготы</li>
<li><strong>Точность координат:</strong> 0 (<em>эта настройка отвечает за число знаков после запятой</em>)</li>
</ul></li>
<li><p>Вернитесь в «Свойства элемента» и найдите настройку «Фон» (англ. <em>Background</em>, неправиильно переведено как «история»). Измените фон картографического изображения на светло-голубой. Таким образом вы сымитируете цветной фон морей и океанов.</p>
<p>Результат будет выглядеть приблизительно так, как показано на рисунке ниже:</p>
<p><img src="images/Ex03/Layout04.png" /></p></li>
<li><p>Добавьте легенду на макет. Нажмите кнопку <strong>Добавить Легенда</strong>, а затем щёлкните левой кнопкой мыши возле северо-восточного угла карты. Нажмите ОК в появившемся окне настройки размера элемента. После добавления легенды макет будет выглядеть примерно так, как показано на рисунке ниже:</p>
<p><img src="images/Ex03/Layout05.png" /></p></li>
<li><p>Выберите элемент легенды и перейдите в «Свойства элемента». Найдите пункт <strong>Элементы легенды</strong> (Legend Items). Этот пункт позволяет вам настраивать содержимое автоматически собираемой легенды.</p></li>
<li><p>Отключите опцию Auto Update. Выключая эту опцию, вы «разрываете связь» между основным окном QGIS и легендой. Теперь при любых изменениях в основной карте легенда не будет обновляться автоматически. С другой стороны, это даёт вам возможность редактировать содержимое легенды.</p></li>
<li><p>Удалите из легенды все элементы, кроме «Людность городов» и «Плотность населения».</p></li>
<li><p>Измените размер и положение элементов макета таким образом, чтобы и карта, и легенда помещались на листе и не перекрывали друг друга. Результат должен выглядеть приблизительно так, как показано на рисунке ниже:</p>
<p><img src="images/Ex03/Layout06.png" /></p></li>
<li><p>Добавьте масштабную линейку на макет. Нажмите кнопку <strong>Добавить Масштабная линейка</strong> или воспользуйтесь аналогичной опцией из меню <strong>Добавить Объект</strong>. Разместите его под основным картографическим изображением.</p></li>
<li><p>Измените подпись единиц измерения масштабной линейки: вместо варианта «km», который используется по умолчанию, впишите «км»</p></li>
<li><p>Вставьте текстовые блоки: название карты и информацию об авторстве карты.</p></li>
<li><p>Если необходимо, измените размеры или взаимное расположение элементов, чтобы все они умещались на листе и не «прилипали» к его краям. Результат должен выглядеть приблизительно так, как показано на рисунке ниже:</p>
<p><img src="images/Ex03/Layout07.png" /></p></li>
<li><p>Экспортируйте изображение в графический файл формата PNG. Для этого используйте кнопку <img src="images/Ex03/ExportButton.png" /> <strong>Экспорт в изображение</strong> или опцию меню <strong>Макет</strong>, имеющую такое же название. В настройках экспорта укажите целевое разрешение 300 точек на дюйм (dots per inch, dpi).</p></li>
</ol>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="map-design-quaternary.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="raster-reference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["qgis-course.pdf", "qgis-course.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
